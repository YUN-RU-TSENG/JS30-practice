<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Video Speed Scrubber</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrapper">
      <video
        class="flex"
        width="765"
        height="430"
        src="http://clips.vorwaerts-gmbh.de/VfE_html5.mp4"
        loop
        controls
      ></video>
      <div class="speed">
        <div class="speed-bar">1Ã—</div>
      </div>
    </div>

    <script>
      (function() {
        const progressBar = document.querySelector(".speed");
        progressBar.addEventListener("mousemove", setVideoProgressSpeed);

        function setVideoProgressSpeed(e) {
          const video = document.querySelector("video");
          const progressInner = document.querySelector(".speed-bar");
          let progressData = {
            percent: null,
            fourTimes: null
          };

          progressData.percent = (e.offsetY / this.clientHeight) * 100 + "%"
          progressData.fourTimes = (((e.offsetY / this.clientHeight) * 4) + .25).toFixed(2)

          progressInner.style.height = progressData.percent;
          progressInner.textContent = `${progressData.fourTimes}X`;
          video.playbackRate = progressData.fourTimes;
        }

      })();
    </script>
  </body>
</html>
